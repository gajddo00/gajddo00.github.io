(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{7237:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(9621)}])},3400:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(5893),a=r(7294),s={src:"/_next/static/media/eye_closed.0a2ad6ae.svg",height:22,width:22},l={src:"/_next/static/media/eye_open.05f1887d.svg",height:16,width:22},o=r(5675),i=r.n(o);function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){c(e,t,r[t])}))}return e}function d(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var f=function(e){var t=e.required,r=void 0!==t&&t,o=e.disabled,c=void 0!==o&&o,f=d(e,["required","disabled"]),m=f.name,p=f.type,h=f.labelValue,x=f.error,v=f.register,b=(0,a.useState)(!1),w=b[0],g=b[1];return(0,n.jsxs)("div",{className:"flex flex-col ".concat(f.className),children:[(0,n.jsxs)("label",{htmlFor:f.name,className:"mr-2 ml-2",children:[h,r&&(0,n.jsx)("span",{className:"error",children:" *"})]}),(0,n.jsxs)("div",{className:"flex gap-2 mt-1",children:[(0,n.jsxs)("div",{className:"textField flex justify-between gap-2 pr-2 items-center w-full ".concat(c?"textField--dark":""),children:[(0,n.jsx)("input",u({},v&&v(m),{defaultValue:f.value,disabled:c,name:m,type:"password"==p&&w?"text":p,className:"w-full"})),"password"==f.type&&(0,n.jsx)("button",{tabIndex:-1,title:"change password visibility",className:"flex items-center",type:"button",onClick:function(){return g((function(e){return!e}))},children:(0,n.jsx)(i(),{src:w?l:s,width:18,height:18,alt:"eye"})})]}),f.accessoryIcon&&(0,n.jsx)("button",{tabIndex:-1,className:"textField_action-button flex items-center justify-center",type:"button",title:"generate random password",onClick:f.accessoryOnClick,children:(0,n.jsx)(i(),{src:f.accessoryIcon,width:23,height:23,alt:"input accessory icon"})})]}),(0,n.jsx)("span",{className:"error ml-2 mr-2",children:x})]})}},9621:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return R}});var n=r(4051),a=r.n(n),s=r(5893),l=r(7294),o=r(7536),i=r(5496),c=r(4231),u=r(1534),d=r(5524),f=r(3400),m=r(8339),p=r(4574),h=r(1163),x=r(8822);function v(e,t,r,n,a,s,l){try{var o=e[s](l),i=o.value}catch(c){return void r(c)}o.done?t(i):Promise.resolve(i).then(n,a)}function b(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var s=e.apply(t,r);function l(e){v(s,n,a,l,o,"next",e)}function o(e){v(s,n,a,l,o,"throw",e)}l(void 0)}))}}var w=function(e){var t,r,n=new u.z9,v=(0,l.useState)(""),w=v[0],g=v[1],y=(0,h.useRouter)(),j=(0,l.useMemo)((function(){return new AbortController}),[]),N=c.Ry({email:c.Z_().email((0,p.K)("error.email",y.locale)).required((0,p.K)("error.empty",y.locale)),password:c.Z_().required((0,p.K)("error.empty",y.locale))}).required(),k=(0,o.cI)({resolver:(0,i.X)(N)}),O=k.register,P=k.handleSubmit,Z=k.formState.errors;(0,l.useEffect)((function(){return function(){j.abort()}}),[]);var K=function(){var e=b(a().mark((function e(t){var r,n,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=encodeURI(null!==(r=new URLSearchParams(window.location.search).get("requestKey"))&&void 0!==r?r:""),s={email:t.email,password:t.password,requestKey:n},console.log(s),e.next=6,_(s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=b(a().mark((function e(t){var r,s,l,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.authPwdLogin(t,{signal:j.signal});case 3:r=e.sent,(s=r.data).redirectUrl&&window.location.assign(s.redirectUrl),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),(null===(l=e.t0)||void 0===l?void 0:l.response)&&400===(null===l||void 0===l?void 0:l.response.status)?g(null===l||void 0===l||null===(o=l.response)||void 0===o?void 0:o.data.Message):(0,x.U)(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,s.jsxs)("section",{className:"pt-3 flex-50 h-screen",children:[(0,s.jsx)(m.Z,{type:"large",className:"self-start pl-8",children:(0,p.K)("login",y.locale)}),(0,s.jsxs)("form",{onSubmit:P(K),className:"mt-20 flex flex-col items-center gap-4 h-screen-50",children:[(0,s.jsx)(f.Z,{className:"w-80",name:"email",labelValue:(0,p.K)("login.email",y.locale),type:"text",error:null===(t=Z.email)||void 0===t?void 0:t.message,register:O}),(0,s.jsx)(f.Z,{className:"w-80",name:"password",labelValue:(0,p.K)("login.password",y.locale),type:"password",error:null===(r=Z.password)||void 0===r?void 0:r.message,register:O}),(0,s.jsx)("span",{className:"error ml-2 mt-4 text-center flex justify-center",children:w}),(0,s.jsxs)(m.Z,{type:"body",bold:!0,children:[(0,p.K)("login.withEmail",y.locale)," ",(0,s.jsx)("button",{type:"button",className:"purple",onClick:function(){return e.emailOptionHandler(u.Hi.Email)},children:"e-mail"})]}),(0,s.jsx)(d.Z,{label:(0,p.K)("login",y.locale),className:"btn bg-dark block m-auto mt-4",submit:!0})]})]})},g=c.Ry({email:c.Z_().required().email()}).required(),y=function(e){var t,r=(0,o.cI)({resolver:(0,i.X)(g)}),n=r.register,a=r.handleSubmit,l=r.formState.errors,c=(0,h.useRouter)();return(0,s.jsxs)("section",{className:"pt-3 flex-50 h-screen flex flex-col items-center",children:[(0,s.jsx)(m.Z,{type:"large",className:"self-start pl-8",children:(0,p.K)("login",c.locale)}),(0,s.jsx)(m.Z,{type:"body",className:"text-center mx-5 w-2/3 mt-16",children:(0,p.K)("login.withEmail.desc",c.locale)}),(0,s.jsxs)("form",{onSubmit:a((function(e){console.log(e)})),className:"mt-10 flex flex-col items-center gap-4 h-screen-50",children:[(0,s.jsx)(f.Z,{className:"w-80",name:"email",labelValue:(0,p.K)("login.email",c.locale),type:"text",error:null===(t=l.email)||void 0===t?void 0:t.message,register:n}),e.showLinkToPassword&&(0,s.jsxs)(m.Z,{type:"body",bold:!0,className:"mt-3",children:[(0,p.K)("login.withCredentials",c.locale)," ",(0,s.jsx)("button",{type:"button",className:"purple",onClick:function(){return e.passwordOptionHandler(u.Hi.Password)},children:(0,p.K)("login.credentials",c.locale)})]}),(0,s.jsx)(d.Z,{label:(0,p.K)("login",c.locale),className:"btn bg-dark block m-auto mt-4",submit:!0})]})]})},j=r(2640),N=r(2855),k=r(1587);function O(e,t,r,n,a,s,l){try{var o=e[s](l),i=o.value}catch(c){return void r(c)}o.done?t(i):Promise.resolve(i).then(n,a)}var P=r(1653),Z=r(5544),K=r(2300),_=function(e){var t=e.requestKey,r=(0,h.useRouter)();return(0,s.jsxs)("section",{className:"bg-dark h-screen flex-50 flex flex-col justify-center items-center",children:[(0,s.jsx)(m.Z,{type:"medium",className:"light text-center mb-10 mt-10",bold:!0,children:(0,p.K)("login.withMobile",r.locale)}),(0,s.jsx)("div",{className:"bg-light",children:""!=t&&(0,s.jsx)(P.Z,{value:function(){var e=localStorage.getItem("subId"),r="".concat(t,"_").concat(e);return(0,K.cv)(r)}(),width:300,height:300,className:"m-4"})||(0,s.jsx)(Z.Z,{})}),(0,s.jsx)(m.Z,{type:"body",className:"text-center mt-16 light sm:px-40 px-20 mb-20",children:(0,p.K)("login.withMobile.desc",r.locale)})]})},S=r(7641);function q(e,t,r,n,a,s,l){try{var o=e[s](l),i=o.value}catch(c){return void r(c)}o.done?t(i):Promise.resolve(i).then(n,a)}function E(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var s=e.apply(t,r);function l(e){q(s,n,a,l,o,"next",e)}function o(e){q(s,n,a,l,o,"throw",e)}l(void 0)}))}}var I,R=(I=function(){var e=(0,j.Z)().auth,t=(0,h.useRouter)(),r=(0,S.Z)(),n=(0,l.useState)(),o=n[0],i=n[1],c=(0,l.useState)(),d=c[0],f=c[1],m=new u.z9,p=(0,l.useState)(""),x=p[0],v=p[1],b=(0,l.useState)(!1),g=b[0],N=b[1];(0,l.useEffect)((function(){var n,s=encodeURI(null!==(n=new URLSearchParams(window.location.search).get("requestKey"))&&void 0!==n?n:"");v(s);var l=function(){var n=E(a().mark((function n(){var l,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(""!==s){n.next=10;break}if(0==Object.keys(null!==e&&void 0!==e?e:{}).length){n.next=5;break}t.replace("/"),n.next=10;break;case 5:return n.next=7,r();case 7:l=n.sent,t.replace(null!==(o=l.redirectUrl)&&void 0!==o?o:"/");case 10:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();l()}),[e]),(0,l.useEffect)((function(){var e=function(){var e=E(a().mark((function e(){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""==x){e.next=13;break}return e.prev=1,e.next=4,m.authGetLoginRequestDescription(x);case 4:t=e.sent,r=t.data,i(r.requiredAuthMethod),f(r.requiredAuthMethod),N(!0),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(1);case 13:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();e()}),[x]);var k=function(e){f(e)},O=function(){switch(d){case u.Hi.Password:return(0,s.jsx)(w,{emailOptionHandler:k});case u.Hi.Email:return(0,s.jsx)(y,{passwordOptionHandler:k,showLinkToPassword:o==u.Hi.Password});default:return(0,s.jsx)(s.Fragment,{})}};return g?(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row",children:[d!=u.Hi.Mobile&&(0,s.jsx)(O,{}),(0,s.jsx)(_,{requestKey:x})]}):(0,s.jsx)(Z.Z,{})},function(){var e=(0,k.Z)().setUser,t=new N.Wj;return(0,l.useEffect)((function(){var r=new AbortController,n=function(){var n,s=(n=a().mark((function n(){var s;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.userGetProfile({signal:r.signal});case 3:s=n.sent,e(s.data),n.next=9;break;case 7:n.prev=7,n.t0=n.catch(0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})),function(){var e=this,t=arguments;return new Promise((function(r,a){var s=n.apply(e,t);function l(e){O(s,r,a,l,o,"next",e)}function o(e){O(s,r,a,l,o,"throw",e)}l(void 0)}))});return function(){return s.apply(this,arguments)}}();return n(),function(){r.abort()}}),[]),(0,s.jsx)(I,{})})}},function(e){e.O(0,[978,897,774,888,179],(function(){return t=7237,e(e.s=t);var t}));var t=e.O();_N_E=t}]);